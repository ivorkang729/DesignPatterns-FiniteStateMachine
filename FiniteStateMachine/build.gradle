/*
 * This file was generated by the Gradle 'init' task.
 *
 * This is a general purpose Gradle build.
 * To learn more about Gradle by exploring our Samples at https://docs.gradle.org/8.6/samples
 */

plugins {
    // Apply the application plugin to add support for building a CLI application in Java.
	id 'application'
	id 'eclipse'
	id 'java'
}

repositories {
    // Use Maven Central for resolving dependencies.
    mavenCentral()
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

if (project.plugins.hasPlugin('eclipse')) {
	eclipse {
	  classpath {
	    // 讓 eclipse 可以用 Ctrl + 滑鼠鍵 看到 source code
	    downloadSources = true
	  }
	}
}

tasks.withType(JavaCompile) {
    options.encoding = 'UTF-8'
}

tasks.withType(Test) {
    systemProperty 'file.encoding', 'UTF-8'
}

dependencies {
    implementation 'org.apache.commons:commons-collections4:4.1'
    implementation 'com.google.code.gson:gson:2.8.5'
    implementation group: 'com.fasterxml.jackson.dataformat', name: 'jackson-dataformat-csv', version: '2.13.4'
    
    // This dependency is used internally, and not exposed to consumers on their own compile classpath.
    implementation 'com.google.guava:guava:27.1-jre'
    
	implementation 'org.apache.commons:commons-collections4:4.1'
    implementation 'org.apache.commons:commons-lang3:3.18.0'

    // Log4j2 依賴
    implementation 'org.apache.logging.log4j:log4j-core:2.22.0'
    implementation 'org.apache.logging.log4j:log4j-api:2.22.0'

    // Use JUnit 4 test framework
    testImplementation 'junit:junit:4.13.2'
    
}

// 在檔案最後加入
application {
    mainClass = 'main.Main'
    // 設定 JVM 參數
    applicationDefaultJvmArgs = [
        '-Dfile.encoding=UTF-8',
        '-Dconsole.encoding=UTF-8'
    ]
}